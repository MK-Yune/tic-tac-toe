var app=function(){"use strict";function t(){}const n=t=>t;function e(t,n){for(const e in n)t[e]=n[e];return t}function r(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(r)}function i(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),f=a?t=>requestAnimationFrame(t):t;const h=new Set;function m(t){h.forEach((n=>{n.c(t)||(h.delete(n),n.f())})),0!==h.size&&f(m)}let d=!1;function p(t,n,e,r){for(;t<n;){const o=t+(n-t>>1);e(o)<=r?t=o+1:n=o}return t}function g(t,n){d?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const n=t.childNodes,e=new Int32Array(n.length+1),r=new Int32Array(n.length);e[0]=-1;let o=0;for(let t=0;t<n.length;t++){const s=p(1,o+1,(t=>n[e[t]].claim_order),n[t].claim_order)-1;r[t]=e[s]+1;const i=s+1;e[i]=t,o=Math.max(i,o)}const s=[],i=[];let l=n.length-1;for(let t=e[o]+1;0!=t;t=r[t-1]){for(s.push(n[t-1]);l>=t;l--)i.push(n[l]);l--}for(;l>=0;l--)i.push(n[l]);s.reverse(),i.sort(((t,n)=>t.claim_order-n.claim_order));for(let n=0,e=0;n<i.length;n++){for(;e<s.length&&i[n].claim_order>=s[e].claim_order;)e++;const r=e<s.length?s[e]:null;t.insertBefore(i[n],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),n!==t.actual_end_child?t.insertBefore(n,t.actual_end_child):t.actual_end_child=n.nextSibling):n.parentNode!==t&&t.appendChild(n)}function k(t,n,e){d&&!e?g(t,n):(n.parentNode!==t||e&&n.nextSibling!==e)&&t.insertBefore(n,e||null)}function y(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function _(){return v(" ")}function x(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function b(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function w(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function q(t,n){t.value=null==n?"":n}function M(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}const A=new Set;let C,E=0;function T(t,n){const e=(t.style.animation||"").split(", "),r=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),o=e.length-r.length;o&&(t.style.animation=r.join(", "),E-=o,E||f((()=>{E||(A.forEach((t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}})),A.clear())})))}function O(t){C=t}function S(){const t=function(){if(!C)throw new Error("Function called outside component initialization");return C}();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const o=M(n,e);r.slice().forEach((n=>{n.call(t,o)}))}}}function j(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t.call(this,n)))}const D=[],X=[],N=[],P=[],R=Promise.resolve();let z=!1;function I(t){N.push(t)}let B=!1;const F=new Set;function L(){if(!B){B=!0;do{for(let t=0;t<D.length;t+=1){const n=D[t];O(n),Y(n.$$)}for(O(null),D.length=0;X.length;)X.pop()();for(let t=0;t<N.length;t+=1){const n=N[t];F.has(n)||(F.add(n),n())}N.length=0}while(D.length);for(;P.length;)P.pop()();z=!1,B=!1,F.clear()}}function Y(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(I)}}let G;function H(t,n,e){t.dispatchEvent(M(`${n?"intro":"outro"}${e}`))}const J=new Set;let K;function Q(){K={r:0,c:[],p:K}}function U(){K.r||s(K.c),K=K.p}function V(t,n){t&&t.i&&(J.delete(t),t.i(n))}function W(t,n,e,r){if(t&&t.o){if(J.has(t))return;J.add(t),K.c.push((()=>{J.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}const Z={duration:0};function tt(e,r,o){let s,l,c=r(e,o),a=!1,d=0;function p(){s&&T(e,s)}function g(){const{delay:r=0,duration:o=300,easing:i=n,tick:g=t,css:k}=c||Z;k&&(s=function(t,n,e,r,o,s,i,l=0){const c=16.666/r;let a="{\n";for(let t=0;t<=1;t+=c){const r=n+(e-n)*s(t);a+=100*t+`%{${i(r,1-r)}}\n`}const u=a+`100% {${i(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${l}`,h=t.ownerDocument;A.add(h);const m=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild($("style")).sheet),d=h.__svelte_rules||(h.__svelte_rules={});d[f]||(d[f]=!0,m.insertRule(`@keyframes ${f} ${u}`,m.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${o}ms 1 both`,E+=1,f}(e,0,1,o,r,i,k,d++)),g(0,1);const y=u()+r,v=y+o;l&&l.abort(),a=!0,I((()=>H(e,!0,"start"))),l=function(t){let n;return 0===h.size&&f(m),{promise:new Promise((e=>{h.add(n={c:t,f:e})})),abort(){h.delete(n)}}}((t=>{if(a){if(t>=v)return g(1,0),H(e,!0,"end"),p(),a=!1;if(t>=y){const n=i((t-y)/o);g(n,1-n)}}return a}))}let k=!1;return{start(){k||(T(e),i(c)?(c=c(),(G||(G=Promise.resolve(),G.then((()=>{G=null}))),G).then(g)):g())},invalidate(){k=!1},end(){a&&(p(),a=!1)}}}function nt(t,n){W(t,1,1,(()=>{n.delete(t.key)}))}function et(t){t&&t.c()}function rt(t,n,e,o){const{fragment:l,on_mount:c,on_destroy:a,after_update:u}=t.$$;l&&l.m(n,e),o||I((()=>{const n=c.map(r).filter(i);a?a.push(...n):s(n),t.$$.on_mount=[]})),u.forEach(I)}function ot(t,n){const e=t.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function st(t,n){-1===t.$$.dirty[0]&&(D.push(t),z||(z=!0,R.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function it(n,e,r,i,l,c,a=[-1]){const u=C;O(n);const f=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:e.context||[]),callbacks:o(),dirty:a,skip_bound:!1};let h=!1;if(f.ctx=r?r(n,e.props||{},((t,e,...r)=>{const o=r.length?r[0]:e;return f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),h&&st(n,t)),e})):[],f.update(),h=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),e.target){if(e.hydrate){d=!0;const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();e.intro&&V(n.$$.fragment),rt(n,e.target,e.anchor,e.customElement),d=!1,L()}O(u)}class lt{$destroy(){ot(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(n){let e,r,o,s,i;return{c(){e=$("div"),r=v(n[0]),b(e,"style",o=n[1]()),b(e,"class","svelte-16a4e2z")},m(t,o){k(t,e,o),g(e,r),s||(i=x(e,"click",n[4]),s=!0)},p(t,[n]){1&n&&w(r,t[0]),2&n&&o!==(o=t[1]())&&b(e,"style",o)},i:t,o:t,d(t){t&&y(e),s=!1,i()}}}function at(t,n,e){let r,{index:o}=n,{mark:s}=n,{side:i}=n;return t.$$set=t=>{"index"in t&&e(2,o=t.index),"mark"in t&&e(0,s=t.mark),"side"in t&&e(3,i=t.side)},t.$$.update=()=>{12&t.$$.dirty&&e(1,r=()=>{const t=`width:${i};height:${i};line-height:${i};`,n=parseInt(i,10)/2+"px;";return`grid-area:b${o};${t}font-size:${n}`})},[s,r,o,i,function(n){j.call(this,t,n)}]}class ut extends lt{constructor(t){super(),it(this,t,at,ct,l,{index:2,mark:0,side:3})}}function ft(t,{delay:e=0,duration:r=400,easing:o=n}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:o,css:t=>"opacity: "+t*s}}function ht(n){let e,r,o,s,i,l,c;return{c(){e=$("div"),r=$("h1"),r.textContent=`${n[1]()}`,o=_(),s=$("button"),s.textContent="Reset",b(r,"class","svelte-1rlej0p"),b(s,"class","svelte-1rlej0p"),b(e,"class","modal svelte-1rlej0p")},m(t,i){k(t,e,i),g(e,r),g(e,o),g(e,s),l||(c=x(s,"click",n[3]),l=!0)},p:t,i(t){i||I((()=>{i=tt(e,ft,{}),i.start()}))},o:t,d(t){t&&y(e),l=!1,c()}}}function mt(t,n,e){const r=S();let{winner:o}=n;return t.$$set=t=>{"winner"in t&&e(2,o=t.winner)},[r,()=>{switch(o){case"me":return"You won!";case"opponent":return"Failed...";case"tie":return"Draw"}},o,()=>r("reset")]}class dt extends lt{constructor(t){super(),it(this,t,mt,ht,l,{winner:2})}}function pt(t){let n,e,r,o,i,l,c,a,u,f,h;return{c(){n=$("div"),e=$("div"),r=v("Depth: "),o=v(t[3]),i=_(),l=$("input"),a=_(),u=$("div"),u.textContent="It might become sluggish when this value is set too high.",b(e,"class","svelte-1kntqyf"),b(l,"type","range"),b(l,"min","1"),b(l,"max",c=t[0]**2),b(l,"class","svelte-1kntqyf"),b(u,"class","svelte-1kntqyf"),b(n,"class","max-depth svelte-1kntqyf")},m(s,c){k(s,n,c),g(n,e),g(e,r),g(e,o),g(n,i),g(n,l),q(l,t[3]),g(n,a),g(n,u),f||(h=[x(l,"change",t[11]),x(l,"input",t[11])],f=!0)},p(t,n){8&n&&w(o,t[3]),1&n&&c!==(c=t[0]**2)&&b(l,"max",c),8&n&&q(l,t[3])},d(t){t&&y(n),f=!1,s(h)}}}function gt(n){let e,r,o,i,l,a,u,f,h,m,d,p,q,M,A,C,E,T,O,S,j,D,X,N,P,R,z,I,B,F,L,Y,G,H,J,K,Q,U,V,W,Z,tt,nt,et,rt,ot,st,it,lt="minimax"===n[2]&&pt(n);return{c(){e=$("hr"),r=_(),o=$("div"),i=$("h1"),i.textContent="Settings",l=_(),a=$("div"),u=$("div"),u.textContent="No. side blocks (3 x 3 ~ 10 x 10 grid)",f=_(),h=$("div"),m=$("button"),d=v("-"),q=_(),M=$("span"),A=v(n[0]),C=_(),E=$("button"),T=v("+"),S=_(),j=$("div"),D=$("div"),D.textContent="Player (X: first, O: later)",X=_(),N=$("div"),P=$("button"),R=v("X"),I=_(),B=$("button"),F=v("O"),Y=_(),G=$("div"),H=$("div"),H.textContent="Computer algorithm",J=_(),K=$("div"),Q=$("button"),U=v("Random"),W=_(),Z=$("button"),tt=v("Minimax"),et=_(),lt&&lt.c(),rt=_(),ot=$("button"),ot.textContent="Apply",b(e,"class","svelte-1kntqyf"),b(i,"class","svelte-1kntqyf"),b(u,"class","svelte-1kntqyf"),b(m,"class",p=c(3===n[0]?"disabled":"")+" svelte-1kntqyf"),b(M,"class","svelte-1kntqyf"),b(E,"class",O=c(10===n[0]?"disabled":"")+" svelte-1kntqyf"),b(h,"class","counter svelte-1kntqyf"),b(a,"class","length svelte-1kntqyf"),b(D,"class","svelte-1kntqyf"),b(P,"class",z=c("X"===n[1]?"chosen":"")+" svelte-1kntqyf"),b(B,"class",L=c("O"===n[1]?"chosen":"")+" svelte-1kntqyf"),b(N,"class","two-choices svelte-1kntqyf"),b(j,"class","marks svelte-1kntqyf"),b(H,"class","svelte-1kntqyf"),b(Q,"class",V=c("random"===n[2]?"chosen":"")+" svelte-1kntqyf"),b(Z,"class",nt=c("minimax"===n[2]?"chosen":"")+" svelte-1kntqyf"),b(K,"class","two-choices svelte-1kntqyf"),b(G,"class","computer svelte-1kntqyf"),b(ot,"class","apply svelte-1kntqyf"),b(o,"class","container svelte-1kntqyf")},m(t,s){k(t,e,s),k(t,r,s),k(t,o,s),g(o,i),g(o,l),g(o,a),g(a,u),g(a,f),g(a,h),g(h,m),g(m,d),g(h,q),g(h,M),g(M,A),g(h,C),g(h,E),g(E,T),g(o,S),g(o,j),g(j,D),g(j,X),g(j,N),g(N,P),g(P,R),g(N,I),g(N,B),g(B,F),g(o,Y),g(o,G),g(G,H),g(G,J),g(G,K),g(K,Q),g(Q,U),g(K,W),g(K,Z),g(Z,tt),g(G,et),lt&&lt.m(G,null),g(o,rt),g(o,ot),st||(it=[x(m,"click",n[5]),x(E,"click",n[6]),x(P,"click",n[7]),x(B,"click",n[8]),x(Q,"click",n[9]),x(Z,"click",n[10]),x(ot,"click",n[4])],st=!0)},p(t,[n]){1&n&&p!==(p=c(3===t[0]?"disabled":"")+" svelte-1kntqyf")&&b(m,"class",p),1&n&&w(A,t[0]),1&n&&O!==(O=c(10===t[0]?"disabled":"")+" svelte-1kntqyf")&&b(E,"class",O),2&n&&z!==(z=c("X"===t[1]?"chosen":"")+" svelte-1kntqyf")&&b(P,"class",z),2&n&&L!==(L=c("O"===t[1]?"chosen":"")+" svelte-1kntqyf")&&b(B,"class",L),4&n&&V!==(V=c("random"===t[2]?"chosen":"")+" svelte-1kntqyf")&&b(Q,"class",V),4&n&&nt!==(nt=c("minimax"===t[2]?"chosen":"")+" svelte-1kntqyf")&&b(Z,"class",nt),"minimax"===t[2]?lt?lt.p(t,n):(lt=pt(t),lt.c(),lt.m(G,null)):lt&&(lt.d(1),lt=null)},i:t,o:t,d(t){t&&y(e),t&&y(r),t&&y(o),lt&&lt.d(),st=!1,s(it)}}}function kt(t,n,e){let{len:r}=n,{myMark:o}=n,{computerAlgorithm:s}=n,i=3;const l=S();return t.$$set=t=>{"len"in t&&e(0,r=t.len),"myMark"in t&&e(1,o=t.myMark),"computerAlgorithm"in t&&e(2,s=t.computerAlgorithm)},[r,o,s,i,()=>{l("apply",{length:r,mark:o,computerAlgorithm:s,maxDepth:i})},()=>e(0,r=e(0,--r)>=3?r:3),()=>e(0,r=e(0,++r)<=10?r:10),()=>e(1,o="X"),()=>e(1,o="O"),()=>e(2,s="random"),()=>e(2,s="minimax"),function(){var t;t=this.value,i=""===t?null:+t,e(3,i)}]}class yt extends lt{constructor(t){super(),it(this,t,kt,gt,l,{len:0,myMark:1,computerAlgorithm:2})}}var $t=(t,{myMark:n,opponentMark:e})=>{const r=t.length;let o=function(){for(let n=0;n<r;n++){const e=t[n][0].mark;if(""===e)continue;if(t[n].every((t=>t.mark===e)))return e}return""}()||function(){for(let n=0;n<r;n++){const e=t[0][n].mark;if(""===e)continue;let o;for(o=1;o<r&&t[o][n].mark===e;o++);if(o===r)return e}return""}()||function(){const n=t[0][0].mark;if(""===n)return"";for(let e=1;e<r;e++)if(t[e][e].mark!==n)return"";return n}()||function(){const n=t[0][r-1].mark;if(""===n)return"";for(let e=0;e<r;e++)if(t[e][r-1-e].mark!==n)return"";return n}();if(o===n)return"me";if(o===e)return"opponent";if(!t.flat(2).some((t=>""===t.mark)))return"tie";if(""===o)return null};let vt;const _t={me:-1,opponent:1,tie:0};let xt,bt;class wt{constructor(t="random",n=1){this.algorithm=t,this.maxDepth=n}choice(t,n){return"random"===this.algorithm?this.randomSpot(t):"minimax"===this.algorithm?this.bestPos(t,n):void 0}randomSpot(t){const n=t.length,e=[];for(let r=0;r<n;r++)for(let o=0;o<n;o++)t[r][o].mark||e.push([r,o]);return e[Math.floor(Math.random()*e.length)]}bestPos(t,{myMark:n,opponentMark:e}){vt=t.length,xt=n,bt=e;let r,o=-1/0;for(let n=0;n<vt;n++)for(let e=0;e<vt;e++){const s=t[n][e];if(""===s.mark){s.mark=bt;const i=this.minimax(t,0,!1);s.mark="",i>o&&(o=i,r=[n,e])}}return r}minimax(t,n,e){const r=$t(t,{myMark:xt,opponentMark:bt});if(null!==r)return _t[r];if(n>=this.maxDepth)return 0;if(e){let e=-1/0;for(let r=0;r<vt;r++)for(let o=0;o<vt;o++){const s=t[r][o];if(""===s.mark){s.mark=bt;const r=this.minimax(t,n+1,!1);s.mark="",e=Math.max(r,e)}}return e}{let e=1/0;for(let r=0;r<vt;r++)for(let o=0;o<vt;o++){const s=t[r][o];if(""===s.mark){s.mark=xt;const r=this.minimax(t,n+1,!0);s.mark="",e=Math.min(r,e)}}return e}}}let qt=null,Mt=null,At=null;class Ct{constructor(t){this.running=!0,this.firstTurn=t,this._turn=t}get turn(){return this._turn}set turn(t){throw new Error("Not allowed to be changed by assignment.")}nextTurn(){return this._turn=this.oppositeTurn,qt&&qt(this.turn,this),"opponent"===this.turn&&At&&At(this),this}get oppositeTurn(){return"me"===this.turn?"opponent":"me"}afterTurnChanges(t){qt=(n,e)=>t(n,e)}onOpponentTurn(t){At=n=>{t(n),n.nextTurn()},"opponent"===this.firstTurn&&At&&At(this)}stop(){return this.running=!1,this._turn="none",Mt&&Mt(this),this}onStop(t){Mt=n=>t(n)}restart(t=this.firstTurn){return this.running=!0,this.firstTurn=t,this._turn=t,"opponent"===this.turn&&At&&At(this),this}}const Et=(t,n=((t,n)=>null))=>{const e=[...Array(t)];for(let r=0;r<t;r++){e[r]=[...Array(t)];for(let o=0;o<t;o++)e[r][o]=n(r,o)}return e},Tt=t=>{const n=`${Math.floor(400/t)}px`;return Et(t,(()=>({mark:"",side:n})))},Ot=t=>"grid-template-areas:"+Et(t,((n,e)=>`b${n+e*t}`)).map((t=>`"${t.join(" ")}"`)).join("");function St(t,n,e){const r=t.slice();return r[12]=n[e],r[14]=e,r}function jt(t,n){let r,o,s;const i=[n[12],{index:n[14]}];let l={};for(let t=0;t<i.length;t+=1)l=e(l,i[t]);return o=new ut({props:l}),o.$on("click",(function(){return n[9](n[14])})),{key:t,first:null,c(){r=v(""),et(o.$$.fragment),this.first=r},m(t,n){k(t,r,n),rt(o,t,n),s=!0},p(t,e){n=t;const r=64&e?function(t,n){const e={},r={},o={$$scope:1};let s=t.length;for(;s--;){const i=t[s],l=n[s];if(l){for(const t in i)t in l||(r[t]=1);for(const t in l)o[t]||(e[t]=l[t],o[t]=1);t[s]=l}else for(const t in i)o[t]=1}for(const t in r)t in e||(e[t]=void 0);return e}(i,[(s=n[12],"object"==typeof s&&null!==s?s:{}),{index:n[14]}]):{};var s;o.$set(r)},i(t){s||(V(o.$$.fragment,t),s=!0)},o(t){W(o.$$.fragment,t),s=!1},d(t){t&&y(r),ot(o,t)}}}function Dt(t){let n,e;return n=new dt({props:{winner:t[5]}}),n.$on("reset",t[8]),{c(){et(n.$$.fragment)},m(t,r){rt(n,t,r),e=!0},p(t,e){const r={};32&e&&(r.winner=t[5]),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){W(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function Xt(t){let n,e,r,o,s,i,l,c=[],a=new Map,u=t[6].flat();const f=t=>t[14];for(let n=0;n<u.length;n+=1){let e=St(t,u,n),r=f(e);a.set(r,c[n]=jt(r,e))}let h=t[4]&&Dt(t);return i=new yt({props:{len:t[0],myMark:t[1],computerAlgorithm:t[3].algorithm}}),i.$on("apply",t[10]),{c(){n=$("main"),e=$("div");for(let t=0;t<c.length;t+=1)c[t].c();r=_(),h&&h.c(),s=_(),et(i.$$.fragment),b(e,"class","grid-container svelte-26obqi"),b(e,"style",o=Ot(t[0]))},m(t,o){k(t,n,o),g(n,e);for(let t=0;t<c.length;t+=1)c[t].m(e,null);g(e,r),h&&h.m(e,null),k(t,s,o),rt(i,t,o),l=!0},p(t,[n]){192&n&&(u=t[6].flat(),Q(),c=function(t,n,e,r,o,s,i,l,c,a,u,f){let h=t.length,m=s.length,d=h;const p={};for(;d--;)p[t[d].key]=d;const g=[],k=new Map,y=new Map;for(d=m;d--;){const t=f(o,s,d),l=e(t);let c=i.get(l);c?r&&c.p(t,n):(c=a(l,t),c.c()),k.set(l,g[d]=c),l in p&&y.set(l,Math.abs(d-p[l]))}const $=new Set,v=new Set;function _(t){V(t,1),t.m(l,u),i.set(t.key,t),u=t.first,m--}for(;h&&m;){const n=g[m-1],e=t[h-1],r=n.key,o=e.key;n===e?(u=n.first,h--,m--):k.has(o)?!i.has(r)||$.has(r)?_(n):v.has(o)?h--:y.get(r)>y.get(o)?(v.add(r),_(n)):($.add(o),h--):(c(e,i),h--)}for(;h--;){const n=t[h];k.has(n.key)||c(n,i)}for(;m;)_(g[m-1]);return g}(c,n,f,1,t,u,a,e,nt,jt,r,St),U()),t[4]?h?(h.p(t,n),16&n&&V(h,1)):(h=Dt(t),h.c(),V(h,1),h.m(e,null)):h&&(Q(),W(h,1,1,(()=>{h=null})),U()),(!l||1&n&&o!==(o=Ot(t[0])))&&b(e,"style",o);const s={};1&n&&(s.len=t[0]),2&n&&(s.myMark=t[1]),8&n&&(s.computerAlgorithm=t[3].algorithm),i.$set(s)},i(t){if(!l){for(let t=0;t<u.length;t+=1)V(c[t]);V(h),V(i.$$.fragment,t),l=!0}},o(t){for(let t=0;t<c.length;t+=1)W(c[t]);W(h),W(i.$$.fragment,t),l=!1},d(t){t&&y(n);for(let t=0;t<c.length;t+=1)c[t].d();h&&h.d(),t&&y(s),ot(i,t)}}}function Nt(t,n,e){let r,o=3,s="X",i="O",l=new wt("random");const c=new Ct("me");let a=!1,u=null;const f=t=>{const n=Math.floor(t/o),i=t%o;r[n][i].mark||"me"!==c.turn||(e(6,r[n][i].mark=s,r),c.nextTurn())};c.onOpponentTurn((()=>{const[t,n]=l.choice(r,{myMark:s,opponentMark:i});e(6,r[t][n].mark=i,r)})),c.afterTurnChanges(((t,n)=>{e(5,u=$t(r,{myMark:s,opponentMark:i})),u&&n.stop()})),c.onStop((()=>e(4,a=!0)));const h=()=>{e(6,r=Tt(o)),c.restart("X"===s?"me":"opponent"),e(4,a=!1)};return t.$$.update=()=>{1&t.$$.dirty&&e(6,r=Tt(o))},[o,s,i,l,a,u,r,f,h,t=>f(t),t=>{const{length:n,mark:r,computerAlgorithm:c,maxDepth:a}=t.detail;e(0,o=n),e(1,s=r),e(2,i="X"===s?"O":"X"),e(3,l.algorithm=c,l),e(3,l.maxDepth=a,l),h()}]}return new class extends lt{constructor(t){super(),it(this,t,Nt,Xt,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
